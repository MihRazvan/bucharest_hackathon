# Pipe It!!

![github banner (2)](https://github.com/user-attachments/assets/e90f4b31-4cd4-4591-98ae-cd4958a40cda)

**Pipe It!!** is a Base-powered invoice factoring platform with intelligent yield generation. It enables businesses to borrow against their invoices, while allowing investors to earn APY through AI-driven trading strategies.

[Demo Video]() | [Prototype App](https://pipeit.vercel.app) | [Backend](https://bucharest-hackathon.onrender.com) | [Slide Deck]() | [Business Plan]() | [AI Agent Architecture]() | [Trading Strategy]() | [Contribution Guide]() | [Design Files]()

---

## Why Pipe It!!?

Traditional invoice factoring is slow, opaque, and capital inefficient. Pipe It!! solves this by:

- **Instant liquidity** through financing Request Network invoices.
- **Smart yield optimization** with AI-based trading of idle vault funds.
- **Market-responsive pricing** using Token Metrics real-time sentiment data.
- **Secure & scalable** with Ethereum smart contracts on Base network.

---

## How Pipe It!! Works?

1. **Invoice Submission**: Businesses register and submit invoices via the frontend.
2. **Factoring Offer**: Pipe It!! evaluates risk & sentiment and offers an advance.
3. **Advance Payout**: If accepted, ETH is transferred from the Flooz Vault.
4. **Idle Funds Trading**: Unused funds are allocated using AI-generated strategies.
5. **Profit Reporting**: Profits are distributed proportionally to vault participants.
6. **Invoice Settlement**: Upon payment, the remaining amount is returned.

All powered by [Token Metrics](https://www.tokenmetrics.com/), [Request Network](https://request.network/), [Base](http://base.org/), [Via Labs](https://vialabs.io/), [OpenAI](https://openai.com/), and our seamless UX.

---

## Bounties

- **General Track**: Real Life Utility

- **Token Metrics**: Used to design a transparent and data-driven token economy that optimizes liquidity and incentivizes user engagement.

- **Base**: Leveraged as a secure and scalable Layer 2 blockchain solution to enable fast and low-cost transactions for Pipe It!!.

- **Request Network**: Integrated for seamless invoice issuance and payments, ensuring trustless and efficient financial operations.

- **VIA Labs**: Utilized for cross-chain communication and use of ERC-20 tokens accross the networks.

---

## User Flow

![5  user flow](https://github.com/user-attachments/assets/8a5deee7-26fb-4f31-9ef9-26e5fe070309)

### Invoice Factoring
1. User creates invoice → [POST `/api/invoices/create`]
2. Pipe It!! calculates factoring offer → [POST `/api/factoring/offers`]
3. User accepts → [POST `/api/factoring/accept`]
4. On invoice payment → Remaining amount is released.

### Trading Idle Funds
1. User deposits ETH → [POST `/api/vault/deposit`]
2. Trading plan is generated by AI → [POST `/api/trading/plan`]
3. Plan is executed → [POST `/api/trading/execute/{plan_id}`]
4. Profits reported → [Smart contract updates total vault balance]

---

## Tech Stack

### Backend
- **Language**: Python 3.8+
- **Framework**: FastAPI (async support & auto-docs)

### Blockchain
- **Network**: Base Mainnet & Base Sepolia Testnet
- **Smart Contracts**: Solidity 0.8.20
  - `FactoraVaultETH`: Manages deposits, shares, and yield

### APIs & Agents
- **Token Metrics API**: Market data & AI signals
- **OpenAI API**: Strategy generation (optional extension)
- **Coinbase AgentKit**: Wallet & DEX interactions
- **Request Network API**: Invoice management

### Dev Tools & Libs
- `web3.py`, `pandas`, `requests`, `tqdm`, `tmai-api`

### Backend Deployment
- **Platform**: Render.com  
- **Live URL**: [https://bucharest-hackathon.onrender.com](https://bucharest-hackathon.onrender.com)

### Complete Architecture Flowchart

![6  tech stack](https://github.com/user-attachments/assets/2365f07b-e54e-41c1-8dd8-7cd0c110e2d6)

---

## Smart Contracts

[FACT](https://sepolia.basescan.org/address/0xfa79c996dee0b76d3a59fbf50cefeebfd8504256)

[FactoraVaultETH.sol](https://github.com/MihRazvan/bucharest_hackathon/blob/main/backend/factora-contracts/src/FactoraVaultETH.sol)

### FactoraVaultETH.sol
- **Deposits**: Accept ETH, mint vault shares.
- **Withdrawals**: Burn shares, return ETH.
- **Trading**: Authorized agents trade idle funds.
- **Profit Reporting**: Update vault balance post-trade.
- **Emergency Withdrawal**: Admin control for safety.

---

Pipes laid with ♥ during ETHBucharest Hackathon 2025
